(this["webpackJsonpmanga-viewer"]=this["webpackJsonpmanga-viewer"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(14),r=a.n(n),s=(a(27),a(28),a(3)),l=a(9),i=function(e){return"https://manga-utils-server.herokuapp.com/get_metadata?file_id=".concat(e)},d=a(10),o=function(e){return{type:"SET_META",payload:e}},b=a(4),m=a(15),j=a(11),h=a(0);var u=function(){var e=Object(c.useState)({url:"",start:"",end:"",type:"manga"}),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],o=function(e){var t=e.target,c=t.name,r=t.value;"start"!==e.target.name&&"end"!==e.target.name||"-"!==r&&isNaN(r)&&(r=a[c]),n(Object(j.a)(Object(j.a)({},a),{},Object(m.a)({},c,r)))};return Object(h.jsxs)("div",{className:"text-left",children:[""!==i&&Object(h.jsxs)("p",{className:"h7",children:[" Response : ",i," "]}),Object(h.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),a.url.length>0&&""!==a.start&&""!==a.end&&!isNaN(a.start)&&!isNaN(a.end)?(a.start=parseInt(a.start),a.end=parseInt(a.end),fetch("https://manga-crawler-server.herokuapp.com/crawl_manga",(t=a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).then((function(e){return e.text()})).then((function(e){var t;t=e,n({url:"",start:"",end:"",type:"manga"}),d(t),setTimeout((function(){d("")}),3e3)}))):alert("Please fill all the fields correctly")},children:[Object(h.jsxs)("div",{className:"form-group row",children:[Object(h.jsx)("label",{htmlFor:"inputUrl",className:"col-sm-2 col-form-label",children:"Url"}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsx)("input",{onChange:o,type:"url",className:"form-control",id:"inputUrl",placeholder:"Url",name:"url",value:a.url})})]}),Object(h.jsxs)("div",{className:"form-group row",children:[Object(h.jsx)("label",{htmlFor:"inputStart",className:"col-sm-2 col-form-label",children:"Start"}),Object(h.jsxs)("div",{className:"col-sm-3",children:[Object(h.jsx)("input",{onChange:o,type:"text",name:"start",className:"form-control",id:"inputStart",placeholder:"Start",value:a.start}),Object(h.jsx)("small",{id:"startHelp",className:"form-text text-muted",children:"Start counts from zero"})]})]}),Object(h.jsxs)("div",{className:"form-group row",children:[Object(h.jsx)("label",{htmlFor:"End",className:"col-sm-2 col-form-label",children:"End"}),Object(h.jsxs)("div",{className:"col-sm-3",children:[Object(h.jsx)("input",{onChange:o,type:"text",name:"end",className:"form-control",id:"End",placeholder:"End",value:a.end}),Object(h.jsx)("small",{id:"endHelp",className:"form-text text-muted",children:"End can also be negative."})]})]}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("legend",{className:"col-form-label col-sm-2 pt-0",children:"Type"}),Object(h.jsxs)("div",{className:"col-sm-10",children:[Object(h.jsxs)("div",{className:"form-check",children:[Object(h.jsx)("input",{onChange:o,className:"form-check-input",type:"radio",name:"type",id:"gridRadios1",value:"manga",checked:"manga"===a.type}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"gridRadios1",children:"Manga"})]}),Object(h.jsxs)("div",{className:"form-check",children:[Object(h.jsx)("input",{onChange:o,className:"form-check-input",type:"radio",name:"type",id:"gridRadios2",value:"manhua",checked:"manhua"===a.type}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"gridRadios2",children:"Manhua"})]}),Object(h.jsxs)("div",{className:"form-check disabled",children:[Object(h.jsx)("input",{onChange:o,className:"form-check-input",type:"radio",name:"type",id:"gridRadios3",value:"manhwa",checked:"manhwa"===a.type}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"gridRadios3",children:"Manhwa"})]})]})]})}),Object(h.jsx)("div",{className:"form-group row text-center pt-3",children:Object(h.jsx)("div",{className:"col-sm-10",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Request"})})})]})]})};var p=function(e){var t=e.isLoading,a=e.index;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("ul",{className:"nav nav-tabs mt-0 justify-content-center h3",id:"myTab",role:"tablist",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link active",id:"index-tab","data-toggle":"tab",href:"#index",role:"tab","aria-controls":"index","aria-selected":"true",children:"Index"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",id:"request-tab","data-toggle":"tab",href:"#request",role:"tab","aria-controls":"request","aria-selected":"false",children:"Request"})})]}),Object(h.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[Object(h.jsx)("div",{className:"tab-pane fade show active pl-5 pt-2 pb-2 pr-5",id:"index",role:"tabpanel","aria-labelledby":"index-tab",children:!t&&Object.entries(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(h.jsx)("div",{className:"index-element",children:Object(h.jsx)(b.b,{to:"/manga/".concat(a),children:c})},a)}))}),Object(h.jsx)("div",{className:"tab-pane fade pl-5 pt-3 pb-2 pr-5",id:"request",role:"tabpanel","aria-labelledby":"request-tab",children:Object(h.jsx)(u,{})})]})]})};var x=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.index})),a=Object(c.useState)(!0),n=Object(l.a)(a,2),r=n[0],s=n[1],i=function(t){e(function(e){return{type:"SET_INDEX",payload:e}}(t))};return Object(c.useEffect)((function(){null!==t?s(!1):function(e,t){fetch("https://manga-utils-server.herokuapp.com/get_metadata?file_id=1Jq5rdZUO6NpB16jFHRgdWQdeOYtpHi1h").then((function(e){return e.json()})).then((function(a){e(a),t(!1)}))}(i,s)}),[]),Object(h.jsx)("div",{className:"chapter-index",children:Object(h.jsx)(p,{isLoading:r,index:t})})};var O=function(e){var t=e.src,a=e.alt,c=e.tmp;return Object(h.jsx)("div",{className:"image-container ".concat(c),children:Object(h.jsx)("img",{className:"image",src:t,alt:a})})};var v=function(e){var t=e.chapter,a=parseInt(t.number),c=a>0?a-1:0,n=a<t.maxChapter?a+1:a;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark mb-3",children:[Object(h.jsx)("div",{className:"navbar-collapse w-100 order-md-0",children:Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(t.id)},className:"btn btn-primary mt-2 mb-2",children:"Index"})}),Object(h.jsx)("div",{className:"mx-auto order-0 active",children:Object(h.jsxs)("div",{className:"d-flex justify-content-arround mt-2 mb-2",children:[Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(t.id,"/viewer/").concat(c)},children:Object(h.jsx)("button",{className:"btn btn-primary mr-2",disabled:a<=0,children:"Previous"})}),Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(t.id,"/viewer/").concat(n)},children:Object(h.jsx)("button",{className:"btn btn-primary mr-2",disabled:a>=t.maxChapter-1,children:"Next"})})]})}),Object(h.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"})]}),Object(h.jsx)("p",{className:"text-center text-capitalize mt-3 mr-2",children:" ".concat(t.title)})]})};var f=function(e){var t=e.chapter,a=parseInt(t.number),c=a>0?a-1:0,n=a<t.maxChapter?a+1:a;return Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(h.jsx)("div",{className:"navbar-collapse w-100 order-1 order-md-0",children:Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(t.id)},className:"btn btn-primary mt-2 mb-2",children:"Index"})}),Object(h.jsx)("div",{className:"mx-auto order-0 active",children:Object(h.jsxs)("div",{className:"d-flex justify-content-arround mt-2 mb-2",children:[Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(t.id,"/viewer/").concat(c)},children:Object(h.jsx)("button",{className:"btn btn-primary mr-2",disabled:a<=0,children:"Previous"})}),Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(t.id,"/viewer/").concat(n)},children:Object(h.jsx)("button",{className:"btn btn-primary mr-2",disabled:a>=t.maxChapter-1,children:"Next"})})]})}),Object(h.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"})]})})},N=function(){var e=Object(c.useRef)(null);return[e,function(){e.current&&e.current.scrollIntoView({behavior:"smooth"})}]};var g=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.chapterMeta})),a=Object(s.f)(),n=a.id,r=a.chapter,b=Object(c.useState)(!0),m=Object(l.a)(b,2),u=m[0],p=m[1],x=N(),g=Object(l.a)(x,2),y=g[0],w=g[1],k=function(t){e(o(Object(j.a)({id:n},t))),p(!1)};return Object(c.useEffect)((function(){var e,a;null===t||t.id!==n?(e=i(n),a=k,fetch(e).then((function(e){return e.json()})).then((function(e){a(e)}))):p(!1)}),[]),Object(c.useEffect)((function(){w()})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{ref:y}),!u&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v,{chapter:{id:n,number:r,maxChapter:t.num_chapters,title:t.chapters[r].title}}),Object.entries(t.chapters[r].images_links).map((function(e){return Object(h.jsx)(O,{tmp:"manga"!==t.type&&t.type?"":"margin-yes",src:e[1],alt:e[0]},e[1])})),Object(h.jsx)(f,{chapter:{id:n,number:r,maxChapter:t.num_chapters,title:t.chapters[r].title}})]})]})};var y=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark mb-3",children:[Object(h.jsx)("div",{className:"navbar-collapse w-100 order-md-0",children:Object(h.jsx)(b.b,{to:"/",className:"btn btn-primary mt-2 mb-2",children:"Main Menu"})}),Object(h.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"})]})})};var w=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.chapterMeta})),a=Object(s.f)().id,n=Object(c.useState)(!0),r=Object(l.a)(n,2),m=r[0],u=r[1],p=function(t){e(o(Object(j.a)({id:a},t))),u(!1)};return Object(c.useEffect)((function(){null!==t&&t.id===a?u(!1):function(e,t){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)}))}(i(a),p)}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(y,{}),!m&&Object(h.jsx)(h.Fragment,{children:t.chapters.map((function(e,t){return Object(h.jsx)("div",{className:"text-left ml-4 mb-4 links",children:Object(h.jsx)(b.b,{to:{pathname:"/manga/".concat(a,"/viewer/").concat(t)},children:e.title})},e.title)}))})]})};var k=function(){return Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"/",component:x}),Object(h.jsx)(s.a,{exact:!0,path:"/manga/:id",component:w}),Object(h.jsx)(s.a,{exact:!0,path:"/manga/:id/viewer/:chapter",component:g}),Object(h.jsx)(s.a,{path:"*",children:Object(h.jsx)("h1",{children:"404 Error"})})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},_=a(16);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_META"===t.type?t.payload:e};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_INDEX"===t.type?t.payload:e},C=Object(_.a)({index:T,chapterMeta:S}),F=Object(_.b)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(h.jsx)(d.a,{store:F,children:Object(h.jsx)(b.a,{basename:"/manga-viewer",children:Object(h.jsx)(k,{})})}),document.getElementById("root")),E()}},[[36,1,2]]]);
//# sourceMappingURL=main.cb56ddf5.chunk.js.map